# Mybatis 정리

**카테고리**: 수강 일지

**작성일**: Fri, 17 Oct 2025 17:38:57 +0900

**원문 링크**: https://junsseok.tistory.com/32

---

<p style="text-align: center;">Mybatis를 활용한 JSP 홈페이지</p>
<hr contenteditable="false" />
<p style="text-align: left;"><b>Mybatis</b> : 자바에서 데이터베이스(DB)를 쉽게 다루기 위해 만든 ORM(Object Relational Mapping) 프레임워크</p>
<p><figure class="imageblock alignCenter"><span><img height="200" src="https://blog.kakaocdn.net/dn/tpSQ4/dJMb8XYExD0/kybf3j3IVCLV6V3L2fp541/img.jpg" width="200" /></span></figure>
</p>
<p>&nbsp;</p>
<p>-&gt;&nbsp;SQL을&nbsp;XML이나&nbsp;어노테이션으로&nbsp;분리해&nbsp;관리 <br />-&gt;&nbsp;자바&nbsp;객체와&nbsp;SQL&nbsp;결과를&nbsp;자동으로&nbsp;매핑 <br /><br />JDBC처럼 Connection, PreparedStatement, ResultSet을 직접 다루지 않아도 SQL&nbsp;실행,&nbsp;파라미터&nbsp;바인딩,&nbsp;결과&nbsp;매핑&nbsp;등을&nbsp;훨씬&nbsp;더&nbsp;간단하게&nbsp;처리할&nbsp;수&nbsp;있게&nbsp;함</p>
<p>&nbsp;</p>
<p>1. 동작 구조</p>
<p>Java&nbsp;코드&nbsp;&nbsp;-&gt;&nbsp;&nbsp;SqlSession&nbsp;&nbsp;-&gt;&nbsp;&nbsp;Mapper(XML)&nbsp;&nbsp;-&gt;&nbsp;&nbsp;DB <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&darr; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;결과(ResultMap,&nbsp;ResultType) <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&darr; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Java&nbsp;객체</p>
<p>&nbsp;</p>
<p>-&gt;&nbsp;Mapper(XML&nbsp;또는&nbsp;인터페이스)에&nbsp;SQL문&nbsp;작성 <br />-&gt; MyBatis 설정파일(mybatis-config.xml)로 환경 구성<br />-&gt;&nbsp;SqlSession&nbsp;객체를&nbsp;통해&nbsp;SQL&nbsp;실행 <br />-&gt;&nbsp;SQL&nbsp;결과를&nbsp;VO/DTO&nbsp;클래스에&nbsp;자동&nbsp;매핑</p>
<p>&nbsp;</p>
<p>2. 주요 특징</p>
<p>(1)&nbsp;SQL&nbsp;직접&nbsp;제어&nbsp;:&nbsp;SQL을&nbsp;XML에&nbsp;작성하기&nbsp;때문에&nbsp;개발자가&nbsp;SQL을&nbsp;완전히&nbsp;제어&nbsp;가능 <br />(2)&nbsp;단순한&nbsp;설정&nbsp;:&nbsp;mybatis-config.xml과&nbsp;mapper.xml만&nbsp;있으면&nbsp;됨 <br />(3)&nbsp;자동&nbsp;매핑&nbsp;:&nbsp;컬럼명과&nbsp;VO&nbsp;필드명이&nbsp;같으면&nbsp;자동으로&nbsp;매핑 <br />(4)&nbsp;유지보수&nbsp;용이&nbsp;:&nbsp;SQL이&nbsp;코드와&nbsp;분리되어&nbsp;있어&nbsp;수정이&nbsp;쉬움 <br />(5)&nbsp;다양한&nbsp;DB&nbsp;지원&nbsp;:&nbsp;MySQL,&nbsp;Oracle,&nbsp;PostgreSQL&nbsp;등&nbsp;대부분&nbsp;지원</p>
<p>&nbsp;</p>
<p style="text-align: center;"><b>더욱&nbsp;효과적으로&nbsp;SQL을&nbsp;XML로&nbsp;관리&nbsp;+&nbsp;자바&nbsp;객체와&nbsp;DB&nbsp;결과&nbsp;자동&nbsp;매핑할&nbsp;수&nbsp;있다!!</b></p>
<hr contenteditable="false" />
<h3 style="text-align: center;">Mybatis를 사용한 백엔드</h3>
<p style="text-align: left;">Mybatis로 백엔드 로직을 구현할때 컨트롤러는 JDBC를 사용했을 때와 같다. 하지만 Dao와 Service 부분에서 많은 효율을 볼 수 있다.&nbsp;</p>
<p style="text-align: left;">- mybatis-config.xml</p>
<pre class="bash" id="code_1760689195658"><code>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE configuration
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-config.dtd"&gt;
&lt;!-- mybatis에대한 설정 파일 --&gt;
&lt;configuration&gt;

	&lt;settings&gt;
		&lt;setting name="jdbcTypeForNull" value="NULL" /&gt;
	&lt;/settings&gt;
	
	&lt;!-- 자주 사용하는 VO클래스들의 풀클스명을 단순한 별칭으로 사용하기 윈한 별칭 등록 --&gt;
	&lt;typeAliases&gt;
		&lt;typeAlias type="com.kh.mybatis.model.vo.Member" alias="Member" /&gt;
		&lt;typeAlias type="com.kh.mybatis.model.vo.Board" alias="Board" /&gt;
	&lt;/typeAliases&gt;
	
	&lt;!-- environments : mybatis실행시 연결할 디비정보 --&gt;
	&lt;environments default="development"&gt;
	  &lt;environment id="development"&gt;
	  	&lt;!-- transactionManager : JDBC(수동커밋) | MANAGED(자동커밋) 중 선택  --&gt;
	    &lt;transactionManager type="JDBC"/&gt;
	    &lt;!-- dataSource : 데이터베이스 정보를 기입--&gt;
	    &lt;!--       type : POOLED(커넥션풀 사용) | UNPOOLED(커넥션풀 사용안함) 
	    	  connectionPool : Connection객체를 담아둘 수 있는 영역
	    	  				   한번 생성된 Connection객체를 담아두고 재사용 해준다.
	    --&gt;
	    &lt;dataSource type="POOLED"&gt;
	      &lt;property name="driver" value="oracle.jdbc.driver.OracleDriver"/&gt;
	      &lt;property name="url" value="jdbc:oracle:thin:@localhost:1521:xe"/&gt;
	      &lt;property name="username" value="c##jsp"/&gt;
	      &lt;property name="password" value="jsp"/&gt;
	    &lt;/dataSource&gt;
	  &lt;/environment&gt;
	&lt;/environments&gt;
	
	&lt;mappers&gt;
	  &lt;mapper resource="/mappers/member-mapper.xml"/&gt;
	  &lt;mapper resource="/mappers/board-mapper.xml"/&gt;
	&lt;/mappers&gt;
&lt;/configuration&gt;</code></pre>
<p>&nbsp;</p>
<p style="text-align: left;">-&gt; 자주 사용하는 VO 클래스들의 클래스명을 별칭으로 등록하고 DB랑 연결하여 설정한다. mapper를 사용하여 쿼리문을 불러올 xml 파일의 경로를 지정한다.</p>
<p style="text-align: left;">&nbsp;</p>
<p style="text-align: left;">--&gt; Connection, PreparedStatement 생성 같이 반복적으로 작성해야 하는 코드들을 SqlSession이 대신한다.</p>
<p style="text-align: left;"><span style="color: #333333; text-align: left;">--&gt;<span>&nbsp;</span></span> SQL 실행 및 파라미터 바인딩 : XML Mapper에서 자동 처리<br /><span style="color: #333333; text-align: left;">--&gt;<span>&nbsp;</span></span> ResultSet&nbsp;:&nbsp;VO/DTO에&nbsp;자동&nbsp;매핑</p>
<p style="text-align: left;">&nbsp;</p>
<p style="text-align: left;">- JDBC를 사용한 memberDao의 회원가입 부분</p>
<pre class="bash" id="code_1760689545122"><code>public int insertMember(Member m, Connection conn) {
		//insert -&gt; 처리된 행 수 -&gt; 반환
		
		int result = 0;
		
		PreparedStatement pstmt = null;
		String sql = prop.getProperty("insertMember");
		
		try {
			pstmt = conn.prepareStatement(sql);
			pstmt.setString(1, m.getMemberId());
			pstmt.setString(2, m.getMemberPwd());
			pstmt.setString(3, m.getMemberName());
			pstmt.setString(4, m.getPhone());
			pstmt.setString(5, m.getEmail());
			pstmt.setString(6, m.getAddress());
			pstmt.setString(7, m.getInterest());
			
			
			result = pstmt.executeUpdate();
		} catch (SQLException e) {
			e.printStackTrace();
		} finally {
			close(pstmt);
		}
		
		return result;
	}</code></pre>
<p style="text-align: left;">&nbsp;</p>
<p style="text-align: left;">- mybatis를 사용한 memberDao의 회원가입 부분</p>
<pre class="bash" id="code_1760689571058"><code>public int insertMember(SqlSession sqlSession, Member m) {
		return sqlSession.insert("MemberMapper.insertMember", m);
	}</code></pre>
<p style="text-align: left;">확실히 코드가 줄어지고 편리하게 작성할 수 있다.</p>
<p style="text-align: left;">&nbsp;</p>
<p style="text-align: left;">- member-mapper.xml</p>
<pre class="bash" id="code_1760690242928"><code>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;
  
&lt;mapper namespace="MemberMapper"&gt;
	&lt;!-- resultMap : 조회된 resultSet의 결과를 특정 객체에 맵핑할 맵핑정보를 기술하는 것 --&gt;
	&lt;resultMap id="memberResultMap" type="Member"&gt;
		&lt;result column="MEMBER_NO" property="memberNo"/&gt;
		&lt;result column="MEMBER_ID" property="memberId"/&gt;
		&lt;result column="MEMBER_PWD" property="memberPwd"/&gt;
		&lt;result column="MEMBER_NAME" property="memberName"/&gt;
		&lt;result column="PHONE" property="phone"/&gt;
		&lt;result column="EMAIL" property="email"/&gt;
		&lt;result column="ADDRESS" property="address"/&gt;
		&lt;result column="INTEREST" property="interest"/&gt;
		&lt;result column="ENROLL_DATE" property="enrollDate"/&gt;
		&lt;result column="MODIFY_DATE" property="modifyDate"/&gt;
		&lt;result column="STATUS" property="status"/&gt;
	&lt;/resultMap&gt;
	&lt;!-- 
		select문 사용시
		&lt;select id="sql문 식별자" resultType="결과타입(별칭)" | resultMap="직접맵핑한resultMap의 id"
		  select문 (select * from Blog where id = #{id})
		&lt;/select&gt;
	 --&gt;
	 &lt;insert id="insertMember" parameterType="Member"&gt;
	 	INSERT INTO MEMBER
		(
			MEMBER_NO,
			MEMBER_ID,
			MEMBER_PWD,
			MEMBER_NAME,
			PHONE,
			EMAIL,
			ADDRESS,
			INTEREST
		)
		VALUES(
			SEQ_MNO.NEXTVAL, 
			#{memberId}, 
			#{memberPwd}, 
			#{memberName}, 
			#{phone}, 
			#{email}, 
			#{address}, 
			#{interest}
		)
	 &lt;/insert&gt;
&lt;/mapper&gt;</code></pre>
<p>-&gt; mapper등록으로 쿼리문 작성</p>
<p>&nbsp;</p>
<hr contenteditable="false" />
<p style="text-align: center;">이전에 했던 JSP 홈페이지 프로젝트를 mybatis를 사용하는 방식으로 변경 예정!</p>
<hr contenteditable="false" />
<p>&nbsp;</p>