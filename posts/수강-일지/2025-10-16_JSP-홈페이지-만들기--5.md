# JSP 홈페이지 만들기 -5

**카테고리**: 수강 일지

**작성일**: Thu, 16 Oct 2025 16:35:00 +0900

**원문 링크**: https://junsseok.tistory.com/31

---

<p style="text-align: center;">댓글 삭제, 사진 게시판 구현</p>
<hr contenteditable="false" />
<h3 style="text-align: center;">댓글 삭제</h3>
<p style="text-align: center;">댓글 삭제 기능을 Ajax로 처리하는 구조</p>
<p><figure class="imagegridblock">
  <div class="image-container"><span height="232" style="width: 43.0221%; margin-right: 10px;" width="457"><img height="498" src="https://blog.kakaocdn.net/dn/QHHKV/dJMb9PzBoYN/Fk8A69BZIOTWWRjmCjnYV1/img.png" width="983" /></span><span height="175" style="width: 55.8151%;" width="448"><img height="378" src="https://blog.kakaocdn.net/dn/bpnHSN/dJMb9LxcgaN/XsHzlwrkcQ5zkeTKyVKxL0/img.png" width="968" /></span></div>
  <figcaption>댓글 삭제 전 </figcaption>
</figure>
</p>
<p>댓글 삭제 확인<br /><br /></p>
<p style="color: #333333; text-align: start;">(Controller -&gt; Service -&gt; Dao로 동작)</p>
<p style="color: #333333; text-align: start;">&nbsp;</p>
<p style="color: #333333; text-align: start;">[Controller]</p>
<p>- 댓글 삭제 요청을 비동기적으로 처리</p>
<pre class="bash" id="code_1760597040643"><code>@WebServlet("/rdelete.bo")
public class AjaxReplyDeleteController extends HttpServlet {
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		int replyNo = Integer.parseInt(request.getParameter("replyNo"));
		
		// Service 호출
		int result = new BoardService().deleteReply(replyNo);
		
		// Ajax 응답
		response.getWriter().print(result);
	}
}</code></pre>
<p>&nbsp;</p>
<p>-&gt;&nbsp;replyNo&nbsp;파라미터를&nbsp;받아서&nbsp;서비스에&nbsp;전달</p>
<p>&nbsp;</p>
<p>[Service] -&gt;&nbsp; DB연결 생성 후 Dao 연결</p>
<p>[Dao] -&gt; xml에서 쿼리 불러오기</p>
<p>[XML]&nbsp;</p>
<p>- 쿼리문으로 DB에 있는 댓글 삭제</p>
<pre class="bash" id="code_1760597238130"><code>&lt;entry key="deleteReply"&gt;
	DELETE 
	FROM REPLY
	WHERE REPLY_NO = ?
&lt;/entry&gt;</code></pre>
<hr contenteditable="false" />
<h3 style="text-align: center;">사진 게시판 구현</h3>
<p><figure class="imagegridblock">
  <div class="image-container"><span style="width: 59.4143%; margin-right: 10px;" width="387"><img height="658" src="https://blog.kakaocdn.net/dn/37hjD/dJMb9YDeFOf/aZHcHiqUT4SX2zvDpbyNs0/img.png" width="863" /></span><span height="417" style="width: 39.4229%;" width="363"><img height="894" src="https://blog.kakaocdn.net/dn/cKJm46/dJMb9MXaAty/zvPP8QCwlhNykQ9kUaRV21/img.png" width="778" /></span></div>
  <figcaption>사진 게시판, 사진 게시글 작성</figcaption>
</figure>
<figure class="imageblock alignCenter"><span><img height="474" src="https://blog.kakaocdn.net/dn/ynPU1/dJMb9V0Or7K/5ackkBRnDq8k0k2nd39VRk/img.png" width="351" /></span><figcaption>사진 게시글 상세페이지</figcaption>
</figure>
</p>
<p>&nbsp;</p>
<p><b><i>사진게시판중 게시글 로직은 이전 <a href="https://junsseok.tistory.com/28" rel="noopener" target="_blank">JSP 홈페이지 만들기-2,</a> <a href="https://junsseok.tistory.com/29" rel="noopener" target="_blank">JSP 홈페이지 만들기-3</a>의 일반 게시판과 같다.</i></b></p>
<p>&nbsp;</p>
<h4>- 게시글 리스트에 사진 띄우기</h4>
<p>Controller -&gt; Service -&gt; DAO -&gt; DB -&gt; JSP(View)</p>
<p>&nbsp;</p>
<p>[Controller]</p>
<p>- BoardService에서 썸네일 게시글 목록(ArrayList&lt;Board&gt;)을 불러와서 JSP로 전달</p>
<pre class="bash" id="code_1760599708269"><code>ArrayList&lt;Board&gt; list = new BoardService().selectThumnailList();

		request.setAttribute("list", list);
		request.getRequestDispatcher("/views/board/thumbnailListView.jsp").forward(request, response);</code></pre>
<p>&nbsp;</p>
<p style="color: #333333; text-align: start;">[Service] -&gt;&nbsp; DB연결 생성 후 Dao 연결</p>
<p style="color: #333333; text-align: start;">[Dao] -&gt; xml에서 쿼리 불러오기</p>
<p style="color: #333333; text-align: start;">[XML]&nbsp;</p>
<p style="color: #333333; text-align: start;">- 게시글(BOARD)과&nbsp;첨부파일(ATTACHMENT)을&nbsp;JOIN해서&nbsp;대표&nbsp;이미지(썸네일)&nbsp;파일을&nbsp;함께&nbsp;조회</p>
<pre class="bash" id="code_1760599758261"><code>&lt;entry key="selectThumbnailList"&gt;
    SELECT BOARD_NO,
           BOARD_TITLE,
           COUNT,
           CHANGE_NAME AS THUMBNAIL_IMG
      FROM BOARD B
      JOIN ATTACHMENT A ON (B.BOARD_NO = A.REF_BNO AND A.FILE_LEVEL = 1)
     WHERE STATUS = 'Y'
  ORDER BY BOARD_NO DESC
&lt;/entry&gt;</code></pre>
<p>&nbsp;</p>
<p>[JSP]</p>
<p>- 사진이&nbsp;들어있는&nbsp;각&nbsp;게시글을&nbsp;&lt;div&nbsp;class="thumbnail"&gt;&nbsp;카드&nbsp;형태로&nbsp;표시</p>
<pre class="bash" id="code_1760599798565"><code>&lt;c:choose&gt;
	&lt;c:when test="${not empty list}"&gt;
		&lt;c:forEach var="b" items="${list}"&gt;
			&lt;div class="thumbnail"
			     onclick="location.href='${pageContext.request.contextPath}/detail.th?bno=${b.boardNo}'"&gt;
			     
				&lt;img src="${pageContext.request.contextPath}/${b.thumbnailImg}" alt="썸네일이미지"&gt;
				
				&lt;p&gt;
					&lt;span&gt;No. ${b.boardNo} ${b.boardTitle}&lt;/span&gt;
					&lt;small&gt;조회수 : ${b.count}&lt;/small&gt;
				&lt;/p&gt;
			&lt;/div&gt;
		&lt;/c:forEach&gt;
	&lt;/c:when&gt;
	&lt;c:otherwise&gt;
		&lt;div class="empty-message"&gt;
			&lt;h3&gt;게시글이 없습니다.&lt;/h3&gt;          
		&lt;/div&gt;
	&lt;/c:otherwise&gt;  
&lt;/c:choose&gt;</code></pre>
<p>-&gt;&nbsp;컨트롤러가&nbsp;전달한&nbsp;${list}&nbsp;데이터를&nbsp;JSTL&nbsp;반복문으로&nbsp;렌더링 <br />-&gt;&nbsp;클릭&nbsp;시&nbsp;게시글&nbsp;상세보기&nbsp;페이지(detail.th?bno=...)로&nbsp;이동 <br />-&gt;&nbsp;이미지&nbsp;경로는&nbsp;${pageContext.request.contextPath}/${b.thumbnailImg}&nbsp;로&nbsp;지정</p>
<div style="color: #333333; text-align: start;"><hr contenteditable="false" />
<p style="text-align: center;">이후 공지사항 부분 구현 예정!!</p>
<hr contenteditable="false" />
<p style="text-align: center;">깃허브 주소 :<span>&nbsp;</span><a href="https://github.com/20200961/JSP_Board_Project">https://github.com/20200961/JSP_Board_Project</a></p>
</div>
<p>&nbsp;</p>
<div style="color: #333333; text-align: start;">
<div>
<div id="reaction-30">&nbsp;</div>
</div>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>