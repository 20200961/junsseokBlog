# 트랜잭션

**카테고리**: uncategorized

**작성일**: Fri, 19 Dec 2025 17:46:54 +0900

**원문 링크**: https://junsseok.tistory.com/65

---

<p style="text-align: center;">트랜잭션</p>
<hr contenteditable="false" />
<p style="text-align: center;"><b>트랜잭션이란 하나의 논리적인 작업 단위로, 데이터베이스나&nbsp;컴퓨터&nbsp;시스템에서&nbsp;</b></p>
<p style="text-align: center;"><b>여러&nbsp;개의&nbsp;작업을&nbsp;하나로&nbsp;묶어서&nbsp;모두&nbsp;성공하거나&nbsp;모두&nbsp;실패하도록&nbsp;처리하는&nbsp;것을&nbsp;말합니다.</b></p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;">&nbsp;</p>
<p>프로그래밍에서 트랜잭션은 작업들은 쪼갤 수 없는 하나의 단위라고 선언하는 것과 같습니다.</p>
<p>&nbsp;</p>
<h3>왜 트랜잭션이 필요할까?</h3>
<p>친구에게 100만원을 송금한다고 생각해봅시다.</p>
<pre class="bash" id="code_1766133657164"><code>1. 내 계좌에서 100만원 송금

2. 친구 계좌에 100만원 입금</code></pre>
<p>&nbsp;</p>
<p>만약 1번 작업은 성공했는데, 2번 작업에서 시스템 오류가 발생한다면</p>
<p>&nbsp;</p>
<p>내 돈은 사라졌는데 친구는 돈을 받지 못하는 상황 발생합니다!</p>
<p>&nbsp;</p>
<p><b> 트랜잭션</b>은 이런 문제를 방지합니다. 두 작업을 하나의 트랜잭션으로 묶으면,</p>
<p>둘 다 성공하거나 둘 다 실패하도록 보장됩니다.</p>
<p>&nbsp;</p>
<h2>트랜잭션의 핵심 특징: ACID</h2>
<p>트랜잭션이 안전하게 동작하기 위한 4가지 핵심 원칙입니다.</p>
<h4>1. Atomicity (원자성)</h4>
<p>트랜잭션 내의 모든 작업은 <b>완전히 실행되거나, 전혀 실행되지 않아야</b> 합니다.</p>
<div>
<div>
<pre class="angelscript" style="color: #383a42; text-align: left;"><code>계좌이체 트랜잭션 시작
&rarr; A 계좌 -10만원 (성공)
&rarr; B 계좌 +10만원 (실패)
&rarr; 전체 취소: A 계좌 원상복구</code></pre>
</div>
</div>
<p>중간 상태는 존재하지 않습니다. 성공 아니면 실패, 둘 중 하나입니다.</p>
<h4>2. Consistency (일관성)</h4>
<p>트랜잭션 실행 전과 후에 <b>시스템의 규칙이 깨지지 않아야</b> 합니다.</p>
<pre class="bash" id="code_1766133755067"><code>(1) 계좌 잔액은 음수가 될 수 없다
(2) 주문은 반드시 고객 정보가 있어야 한다
(3) 총합은 항상 맞아야 한다</code></pre>
<p>이런 규칙들이 트랜잭션 전후로 계속 유지되어야 합니다.</p>
<h4>3. Isolation (격리성)</h4>
<p>여러 트랜잭션이 동시에 실행되더라도, <b>서로 영향을 주지 않고 독립적으로 실행</b>되어야 합니다.</p>
<div>
<div>
<pre class="angelscript" style="color: #383a42; text-align: left;"><code>[트랜잭션 1] 상품 A의 재고 확인 &rarr; 10개
[트랜잭션 2] 동시에 상품 A의 재고 확인 &rarr; 10개
[트랜잭션 1] 재고 1개 차감 &rarr; 9개로 업데이트
[트랜잭션 2] 재고 1개 차감 &rarr; 8개로 업데이트 (트랜잭션 1의 변경 반영)</code></pre>
</div>
</div>
<p>각 트랜잭션은 다른 트랜잭션의 중간 결과를 보지 못하고, 마치 혼자 실행되는 것처럼 동작해야 합니다.</p>
<h4>4. Durability (지속성)&nbsp;</h4>
<p>성공적으로 완료된 트랜잭션의 결과는 <b>영구적으로 저장</b>되어야 합니다.</p>
<pre class="bash" id="code_1766133791699"><code>(1) 송금이 완료되었다면, 그 직후 시스템이 다운되더라도 송금 결과는 사라지지 않습니다
(2) 주문이 완료되었다면, 서버가 재시작되어도 주문 정보는 남아있습니다</code></pre>
<hr contenteditable="false" />
<h3><b>트랜잭션의 동작 과정 </b></h3>
<p>&nbsp;</p>
<p>트랜잭션은 보통 이런 흐름으로 동작합니다</p>
<pre class="bash" id="code_1766133833499"><code>1. 시작 (BEGIN/START)
   &darr;
2. 작업 수행 (여러 개의 작업들)
   &darr;
3-a. 성공 &rarr; 확정 (COMMIT)
     또는
3-b. 실패 &rarr; 취소 (ROLLBACK)</code></pre>
<p>&nbsp;</p>
<p><b>성공 :&nbsp;</b></p>
<pre class="bash" id="code_1766133845660"><code>트랜잭션 시작
&rarr; 작업 1 실행 ✓
&rarr; 작업 2 실행 ✓
&rarr; 작업 3 실행 ✓
&rarr; COMMIT: 모든 변경사항 확정</code></pre>
<p>&nbsp;</p>
<p><b>실패 :</b></p>
<pre class="bash" id="code_1766133874620"><code>트랜잭션 시작
&rarr; 작업 1 실행 O
&rarr; 작업 2 실행 O
&rarr; 작업 3 실행 X
&rarr; ROLLBACK: 작업 1, 2도 모두 취소</code></pre>
<p>&nbsp;</p>
<hr contenteditable="false" />
<h3>정리</h3>
<p>트랜잭션은&nbsp;'여러&nbsp;작업을&nbsp;안전하게&nbsp;하나로&nbsp;묶는'&nbsp;개념입니다.&nbsp;</p>
<p>일상생활에서도&nbsp;많은&nbsp;기능들(송금,&nbsp;예매,&nbsp;결제&nbsp;등)이&nbsp;뒤에서는&nbsp;트랜잭션으로&nbsp;안전하게&nbsp;보호되고&nbsp;있습니다.</p>
<p>&nbsp;</p>
<ul>
<li><b>원자성</b>: 전부 아니면 전무</li>
<li><b>일관성</b>: 규칙은 항상 지켜져야 함</li>
<li><b>격리성</b>: 서로 방해하지 않기</li>
<li><b>지속성</b>: 완료되면 영구적</li>
</ul>
<hr contenteditable="false" />
<h3 style="text-align: center;">면접한줄요약</h3>
<p>&nbsp;</p>
<p style="text-align: center;">트랜잭션은 여러 작업을 하나의 논리적 단위로 묶어 모두 성공하거나 모두 실패하도록 보장하는 것으로,</p>
<p style="text-align: center;">ACID 즉 원자성, 일관성, 격리성, 지속성 특성을 만족해야 합니다.</p>
<p style="text-align: center;">&nbsp;</p>